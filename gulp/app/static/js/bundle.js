!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=document.getElementById("topbar"),l=document.getElementById("page"),a=document.getElementById("aside"),o=document.getElementById("footer"),s=document.getElementById("aside-anchor"),i=document.getElementById("cat-gallery-anchor"),c=document.getElementById("task-list-anchor"),u=document.getElementById("anchor-quotes-pictures"),d=document.getElementById("banner"),m=document.getElementById("status"),p=d.querySelector(".left"),g=d.querySelector(".right"),y=l.querySelector(".decoration"),h=topbar.querySelector(".menu-icon"),v=topbar.querySelector(".hidden-menu"),k=v.querySelectorAll("li"),f=v.querySelector(".hidden-menu li:nth-child(1)"),_=["../../vanillajs/img/cat_gallery/IMG_0010.JPG","../../vanillajs/img/cat_gallery/IMG_0029.JPG","../../vanillajs/img/cat_gallery/IMG_0030.JPG","../../vanillajs/img/cat_gallery/IMG_0031.JPG","../../vanillajs/img/cat_gallery/IMG_0271_min.JPG","../../vanillajs/img/cat_gallery/IMG_0915.JPG","../../vanillajs/img/cat_gallery/IMG_0916_min.JPG","../../vanillajs/img/cat_gallery/IMG_0917.JPG","../../vanillajs/img/cat_gallery/IMG_0918_min.JPG","../../vanillajs/img/cat_gallery/IMG_0920_min.JPG","../../vanillajs/img/cat_gallery/IMG_2395_min.JPG","../../vanillajs/img/cat_gallery/IMG_20160201_210358_min.jpg","../../vanillajs/img/cat_gallery/IMG_0268.JPG"],S=i.querySelector(".gallery-photo-closed"),b=S.querySelectorAll(".gallery-photo-preview"),q=S.querySelector(".full-photo"),L=c.querySelector(".case-list-closed"),x=L.querySelector(".todo-list"),I=x.children,j=L.querySelector(".update-tasks-array"),w=L.querySelector(".empty-tasks"),E=L.querySelector(".add-task"),G=E.querySelector(".add-task-input"),M=L.querySelector("#task-template").content.querySelector(".todo-list-item"),N=u.querySelector(".sentences-pictures-closed"),O=N.querySelector(".sentences"),C=(N.querySelectorAll(".sentence"),N.querySelector(".update-card-array"),a.querySelector(".hidden-my-location")),P=i.querySelector("h1"),D=c.querySelector("h1"),J=u.querySelector("h1"),T=o.querySelector(".map-icon"),A=o.querySelector(".hidden-map-popup-menu"),B=i.querySelector(".hidden-gallery-popup-menu"),z=c.querySelector(".hidden-todo-list-popup-menu"),U=u.querySelector(".hidden-sentences-popup-menu");function V(e,t,n){e.addEventListener("click",(function(){n.src=t}))}function $(e,t,n){let r=e.taskDataDescription,l=t.cloneNode(!0),a=l.querySelector("span"),o=l.querySelector(".todo-list-input");a.innerText=r,"marked"==e.taskMark&&o.setAttribute("checked","checked"),n.appendChild(l)}function F(e,t){let n=e.querySelector(".todo-list-input"),r=e.querySelector(".trash");n.addEventListener("change",(function(){n.hasAttribute("checked")?n.removeAttribute("checked"):n.setAttribute("checked","checked")})),r.addEventListener("click",(function(){e.remove(),t()}))}function H(e,t,n){let r=document.createElement(e);return r.classList.add(t),n&&(r.textContent=n),r}function K(e){let t=H("li","sentence"),n=H("h2","sentence-title",e.source);t.appendChild(n);let r=H("img","sentence-image");r.src=e.cardUrl,r.alt=e.text,t.appendChild(r);let l=H("i","far");l.classList.add("fa-thumbs-down"),t.appendChild(l);let a=H("i","far");a.classList.add("fa-heart"),a.classList.add("fa-2x"),t.appendChild(a);let o=H("i","far");o.classList.add("fa-thumbs-up"),t.appendChild(o);let s=H("p","like-number",e.likesNumber);if(t.appendChild(s),e.winner){t.classList.add("winner");let n=H("p","old-like-number",e.likesOld);t.appendChild(n)}let i=t.querySelector(".like-number"),c=t.querySelector(".fa-thumbs-down"),u=t.querySelector(".fa-thumbs-up"),d=t.querySelector(".fa-heart");return u.addEventListener("click",(function(){i.innerText++,d.classList.add("fa-3x"),setTimeout((function(){d.classList.remove("fa-3x")}),50)})),c.addEventListener("click",(function(){i.innerText--,d.classList.remove("fa-2x"),d.classList.add("fa-1x"),setTimeout((function(){d.classList.add("fa-2x"),d.classList.remove("fa-1x")}),50)})),t}function Q(e,t,n,r,l,a,o,s,i){n.onmouseover=n.onmouseout=function(c){"mouseover"==c.type&&(e.classList.contains(t)?(r.textContent=o,n.addEventListener("click",(function(){e.classList.remove(t),i.scrollIntoView({block:"start",behavior:"smooth"})}))):(r.textContent=a,n.addEventListener("click",(function(){e.classList.add(t),s.scrollIntoView({block:"start",behavior:"smooth"})}))),r.classList.add(l));"mouseout"==c.type&&r.classList.remove(l)}}var R,W,X;let Y;function Z(){clearTimeout(Y)}function ee(e,t,n,r){e.addEventListener("click",(function(){t.classList.add(n),r.scrollIntoView({block:"start",behavior:"smooth"}),Z(),v.classList.remove("open")}))}(R="../../vanillajs/img/Vietnam_p_7.png",W=m,X=d,new Promise((function(e,t){W.innerText="загрузка...";let n=document.createElement("img");n.src=R,n.alt="моё фото",n.onload=()=>e(n),n.onerror=()=>t(new Error(`Не удалось загрузить изображение ${R}`)),X.appendChild(n)}))).then(e=>{m.innerText=""}).then(e=>{y.classList.add("decoration_move")}).then(e=>{p.classList.add("move_left")}).then(e=>{g.classList.add("move_right")}).catch(e=>alert(`Ошибка: ${e.message}`)),h.onmouseover=h.onmouseout=h.onclick=function(e){"mouseover"==e.type&&h.classList.add("menu-icon-open");"mouseout"==e.type&&h.classList.remove("menu-icon-open");"click"==e.type&&(v.classList.add("open"),Y=setTimeout((function(){v.classList.remove("open")}),1e4))},f.addEventListener("click",(function(){Z(),v.classList.remove("open")}));for(let e=0;e<k.length;e++)2==e?ee(k[e],S,"gallery-photo-open",i):3==e?ee(k[e],L,"case-list-open",c):4==e?ee(k[e],N,"sentences-pictures-opened",u):5==e&&ee(k[e],C,"my-location-opened",s);for(var te=0;te<b.length;te++)V(b[te],_[te],q);let ne=localStorage.getItem("savedTasksData")?JSON.parse(localStorage.getItem("savedTasksData")):[{taskDataDescription:"Покормить Васю",taskMark:"marked"},{taskDataDescription:"Разобраться где что и когда оно уже",taskMark:"unmarked"},{taskDataDescription:"Подучить Angular",taskMark:"marked"}];for(let e=0;e<ne.length;e++)$(ne[e],M,x);const re=function(){0===I.length?w.classList.remove("hidden-tasks"):w.classList.add("hidden-tasks")};for(let e=0;e<I.length;e++)F(I[e],re);E.addEventListener("submit",(function(e){e.preventDefault();let t=G.value,n=M.cloneNode(!0);n.querySelector("span").innerText=t,F(n,re),x.appendChild(n),re(),G.value=""})),j.addEventListener("click",(function(){ne=[];for(let e=0;e<I.length;e++){let t={};t.taskDataDescription=I[e].querySelector("span").textContent,I[e].querySelector(".todo-list-input").hasAttribute("checked")?t.taskMark="marked":t.taskMark="unmarked",ne.push(t)}localStorage.setItem("savedTasksData",JSON.stringify(ne)),window.location.reload()}));let le=localStorage.getItem("savedCardsData")?JSON.parse(localStorage.getItem("savedCardsData")):[{source:"http://bygaga.com.ua",cardUrl:"../../vanillajs/img/quotes_pictures/kotik.svg",likesNumber:"0",text:"Смешная картинка со смыслом - 1410266806_frazochki-kartinochki-pozitivchik-20.svg",winner:!1,likesOld:"0"},{source:"http://kaifolog.ru",cardUrl:"../../vanillajs/img/quotes_pictures/buhgalter.svg",likesNumber:"0",text:"Смешная картинка со смыслом - 1410757507_002.svg",winner:!1,likesOld:"0"},{source:"http://kaifolog.ru",cardUrl:"../../vanillajs/img/quotes_pictures/peshehodi.svg",likesNumber:"0",text:"Смешная картинка со смыслом - 1410757510_007.svg",winner:!1,likesOld:"0"},{source:"https://pressa.tv",cardUrl:"../../vanillajs/img/quotes_pictures/izmenit.svg",likesNumber:"0",text:"Смешная картинка со смыслом - 1478283714_25qt4fbqss4.svg",winner:!1,likesOld:"0"},{source:"https://pressa.tv",cardUrl:"../../vanillajs/img/quotes_pictures/cherchil.svg",likesNumber:"0",text:"Смешная картинка со смыслом - 1478283729_e7ciiey7fu4.svg",winner:!1,likesOld:"0"},{source:"https://pressa.tv",cardUrl:"../../vanillajs/img/quotes_pictures/zarabotat.svg",likesNumber:"0",text:"Смешная картинка со смыслом - 1478283768_0_g6duztxzi.svg",winner:!1,likesOld:"0"},{source:"http://bygaga.com.ua",cardUrl:"../../vanillajs/img/quotes_pictures/vezenie.svg",likesNumber:"0",text:"Смешная картинка со смыслом - 1350147044_pozitivnie_kartinki_so_smislom_527_29-12.svg",winner:!1,likesOld:"0"}];for(let e=0;e<le.length;e++){const t=K(le[e]);O.appendChild(t)}let ae=N.querySelector(".update-card-array"),oe=N.querySelectorAll(".sentence"),se=-9999,ie=[];ae.addEventListener("click",(function(){ie=[];for(let e=0;e<oe.length;e++)le[e].likesOld=le[e].likesNumber,le[e].winner=!1,le[e].likesNumber=oe[e].querySelector(".like-number").textContent,Number(le[e].likesNumber)>Number(se)?(se=le[e].likesNumber,ie=[],ie.push(e)):le[e].likesNumber==se&&ie.push(e);for(let e=0;e<ie.length;e++)ie.length==oe.length?le[ie[e]].winner=!1:le[ie[e]].winner=!0;localStorage.setItem("savedCardsData",JSON.stringify(le)),window.location.reload()})),Q(C,"my-location-opened",T,A,"open-map-popup-menu","Показать на карте","Закрыть карту",s,r),Q(S,"gallery-photo-open",P,B,"open-gallery-popup-menu","Открыть котогалерею","Закрыть котогалерею",i,r),Q(L,"case-list-open",D,z,"open-todo-list-popup-menu","Открыть todo-list","Закрыть todo-list",c,r),Q(N,"sentences-pictures-opened",J,U,"open-sentences-popup-menu","Открыть картинки-цитаты","Закрыть картинки-цитаты",u,r)}]);