(this.webpackJsonpcreate_react_app=this.webpackJsonpcreate_react_app||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n(2),o=n(9),i=n.n(o),s=(n(17),Object(r.createContext)()),l=function(){var e=Object(r.useContext)(s),t=e.note,n=e.addNote,c=e.inputChange,o=e.inputReset;return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.title.trim()&&n(),o()},children:[Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",name:"title",className:"form-control",placeholder:"add here ...",onChange:function(e){c(e.target.value)},value:t.title})}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})},u=function(e){var t=e.note,n=e.index,c=Object(r.useContext)(s),o=c.removeNote,i=c.editNote,l=c.setStrikeUnstrike;return Object(a.jsxs)("li",{className:"list-group-item",style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsxs)("ul",{className:"list-group list-group-horizontal",style:{width:"90%"},children:[Object(a.jsx)("li",{className:"list-group-item",style:{width:"4rem",textAlign:"center"},children:Object(a.jsx)("small",{children:n+1})}),Object(a.jsx)("li",{className:"list-group-item",style:{width:"100%",cursor:"pointer"},onClick:function(){return l(t)},children:t.completed?Object(a.jsx)("strong",{style:{textDecoration:"line-through",opacity:.2},children:t.title}):Object(a.jsx)("strong",{children:t.title})})]}),Object(a.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return i(t)},style:{marginRight:"3px"},children:"Edit"}),Object(a.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return o(t.id)},children:"Del"})]})]},n)},d=function(){var e=Object(r.useContext)(s),t=e.notes,n=e.loading,c=e.fetchNotes;return Object(r.useEffect)((function(){c()}),[]),Object(a.jsx)("ul",{className:"list-group",children:n?Object(a.jsx)("p",{className:"h3",children:"loading ..."}):t.length?t.map((function(e,t){return Object(a.jsx)(u,{note:e,index:t},t)})):Object(a.jsx)("p",{className:"h3",children:"all tasks completed ..."})})},p=function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-5",children:Object(a.jsx)("p",{className:"h3",style:{textAlign:"right"},children:"django + react"})}),Object(a.jsx)("div",{className:"col-7",children:Object(a.jsx)("p",{className:"h3",children:'"to-do-\u0448\u043a\u0430"'})})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)(l,{})})}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)(d,{})})})]})},j=n(4),b=n.n(j),O=n(6),h=n(10),f=n(3),m=n(11),x=n(1),y="SHOW_LOADER",g="FETCH_NOTES",v="REMOVE_NOTE",N="ADD_NOTE",k="START_EDIT_NOTE",E="SAVE_EDITABLE_NOTE",w="INP_CHANGE",T="INP_RES",C=(c={},Object(f.a)(c,y,(function(e){return Object(x.a)(Object(x.a)({},e),{},{loading:!0})})),Object(f.a)(c,g,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{notes:n,loading:!1})})),Object(f.a)(c,v,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{notes:e.notes.filter((function(e){return e.id!==n})),loading:!1})})),Object(f.a)(c,N,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{notes:[].concat(Object(m.a)(e.notes),[Object(x.a)({},n)]),loading:!1})})),Object(f.a)(c,w,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{note:Object(x.a)(Object(x.a)({},e.note),{},{title:n})})})),Object(f.a)(c,T,(function(e){return Object(x.a)(Object(x.a)({},e),{},{note:{id:null,title:"",completed:!1}})})),Object(f.a)(c,k,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{note:{id:n.id,title:n.title,completed:n.completed},editing:!0})})),Object(f.a)(c,E,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{notes:e.notes.map((function(e){return e.id===n.id?e=n:e})),loading:!1,editing:!1})})),Object(f.a)(c,"DEFAULT",(function(e){return e})),c),_=function(e,t){return(C[t.type]||t.DEFAULT)(e,t)},S="https://frozen-basin-59279.herokuapp.com",A=function(e){var t=e.children,n=Object(r.useReducer)(_,{notes:[],note:{id:null,title:"",completed:!1},loading:!1,editing:!1}),c=Object(h.a)(n,2),o=c[0],i=c[1],l=function(){return i({type:y})},u=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.prev=1,e.next=4,fetch("".concat(S,"/api/task-list/"));case 4:if(!(t=e.sent).ok){e.next=11;break}return e.next=8,t.json();case 8:n=e.sent,c=n.map((function(e){return e})),i({type:g,payload:c});case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(1),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,fetch("".concat(S,"/api/task-delete/").concat(t,"/"),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:i({type:v,payload:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),t="".concat(S,"/api/task-create/"),o.editing&&(t="".concat(S,"/api/task-update/").concat(o.note.id,"/")),e.prev=3,e.next=6,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.note)});case 6:if(!(n=e.sent).ok){e.next=13;break}return e.next=10,n.json();case 10:c=e.sent,a=c,o.editing?i({type:E,payload:a}):i({type:N,payload:a});case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(3),new Error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.completed=!t.completed,e.next=3,fetch("".concat(S,"/api/task-update/").concat(t.id,"/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:t.completed,title:t.title})});case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:c=e.sent,i({type:E,payload:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(s.Provider,{value:{note:o.note,notes:o.notes,loading:o.loading,fetchNotes:u,removeNote:d,addNote:p,inputChange:function(e){i({type:w,payload:e})},inputReset:function(){i({type:T})},editNote:function(e){i({type:k,payload:e})},setStrikeUnstrike:j},children:t})};i.a.render(Object(a.jsx)(A,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.0cda7977.chunk.js.map